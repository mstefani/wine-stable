The Wine maintenance release 2.0.5 is now available.

What's new in this release (see below for details):
  - Various bug fixes

The source is available from the following locations:

  https://dl.winehq.org/wine/source/2.0/wine-2.0.5.tar.xz
  http://mirrors.ibiblio.org/wine/source/2.0/wine-2.0.5.tar.xz

Binary packages for various distributions will be available from:

  https://www.winehq.org/download

You will find documentation on https://www.winehq.org/documentation

You can also get the current source directly from the git
repository. Check https://www.winehq.org/git for details.

Wine is available thanks to the work of many people. See the file
AUTHORS in the distribution for the complete list.

----------------------------------------------------------------

Bugs fixed in 2.0.5 (total 50):

  13548  Wine's setupapi does not know how to recursively delete registry keys
  14937  Astroplanner 1.6.1 crashes when closing "preferences" window (TOOLTIPS_SubclassProc must be unsubclassed during WM_NCDESTROY)
  21849  Sonic & Knuckles Collection: arrow buttons are very narrow
  22682  Multiple games need function d3dx9_36.dll.D3DXGetShaderInputSemantics (Far Cry 2/3, Avatar, Faery: Legends of Avalon, Civilization 4, Deathspank, Of Orcs and Men)
  27106  IMSSA EuroDEEM (VB6 app) fails on startup, reporting "Type MisMatch" error (VARIANT_Coerce: treat VT_NULL like VT_EMPTY when converting to VT_BSTR)
  29871  drawing in photoshop cs5 is almost impossible
  29986  IE6 and IE4 have greenish toolbar icons
  32202  ActiveX install attempts to run wrong inf section
  33318  3DMark2001 SE: upgrading to Wine 1.5.27 reduces performance score by 20%
  33722  Stereo IMA ADPCM encoding in WINE produces loud static instead of sound
  36441  joy.cpl crashes when PS4 Gamepad connected via Bluetooth
  36517  SlovoEB 2.1 (.NET 4.0 app) crashes on startup (unsupported WICPixelFormat32bppGrayFloat)
  37336  U-blox U-Center 8.11 crashes when importing or exporting config file
  38334  SpinTires crashes with unimplemented function d3dx9_36.dll.D3DXFrameFind
  40832  MultiSpec 2.8.2016 32-Bit: Installs fine but crashes while opening any images
  40866  DigitalMicrograph: crashes when a new script is added to the menu
  40963  Upwards, lonely robot Demo crashes with Too many buffers queued
  41209  The Magic School Bus Explores the Solar System: Error message asking for the game to be reinstalled
  41220  Provide fallback implementation of strnlen for OS versions that don't have it in their Libc (Leopard, Snow Leopard, et al)
  42307  Temple+: needs knownfolder_GetRedirectionCapabilities
  42414  The Witcher 3 intro videos don't play
  42570  dinput/tests/mouse intermittently fails in Acquire() and GetDeviceData()
  43000  wine can't be compiled by gcc-2.95.4 (dsound/dsound_convert.c, C99 ~ lrintf)
  43004  qedit/tests/mediadet.c intermittent crash
  43068  Armed and Dangerous: severe performance degradation
  43217  Wine cannot execute position-independent (PIE) host executables via CreateProcess()
  43316  Process Hacker 2.x needs ADVAPI32.dll.LsaLookupPrivilegeName
  43483  Medusa Demo crashes with unimplemented function d3dx10_43.dll.D3DX10PreprocessShaderFromMemory
  43512  Hellblade: Senua's Sacrifice - the player character is severely distorted
  43800  Winamp's associations setup window has broken check boxes appearance
  43810  Playkey needs api-ms-win-crt-stdio-l1-1-0.dll.__stdio_common_vsprintf_p
  43884  MSVC LINK.EXE version 14.11.25547.0 crashes due to unimplemented function _memicmp_l
  43904  HeTeMuLu Creator: Can't input some kanji characters properly.
  43905  pCon Planner crashes using builtin msvcp: access violation reading location 0x60 at basic_ios_char_widen in module msvcp140.
  43914  64-bit RPCS3 emulator doesn't start, loader reports 'Invalid address' (non-relocatable PE wants to use lowest possible image base on NT: 0x10000 / 64 KB)
  43939  comctl32 cannot load its assembly on arm
  43940  Runtime error: Invalid floating point operation in Dys-Vocal2 installer
  43956  GDI+ is unable to load some truetype fonts
  44064  Sims 4: unimplemented function msvcr120.dll._get_purecall_handler
  44075  Unable to set subsystem version with VC++ 2013 link.exe
  44130  Possible access to unintended variable in "dlls/comctl32/imagelist.c" line 299
  44148  DX Library: Multiple PlaySoundMem() calls don't work when using XAudio2
  44153  ShellExecute crash when opening explorer.exe
  44168  Wizardry 8 hangs when starting a new game or loading a saved game
  44170  MSMoney data File password no more recognized
  44175  stack corruption and crash with OpenSSH port
  44180  TMIDI Player: Crash on startup with a stack overflow
  44194  Serious Sam Classic (First and Second Encounter) shifts the view and makes the game unplayable
  44196  Autocad 2002 - Scrambled numbers in output
  44349  winedbg: stepping is broken using GDB proxy

----------------------------------------------------------------

Changes since 2.0.4:

Akihiro Sagawa (3):
      imm32/tests: Add a skip message when composition string isn't available.
      imm32/tests: Add more composition string tests.
      winex11: Keep the result string in the IME UI window procedure.

Alex Henrie (5):
      ucrtbase: Add __stdio_common_vsprintf_p.
      advapi32: Add stub for LsaLookupPrivilegeName.
      libport: Move rint fallback implementations from msvcrt to libport.
      mmsystem.dll16: Pass through MCI_LIST, MCI_SETAUDIO, and MCI_SETVIDEO.
      libport: Fix typo in rintf.

Alexandre Julliard (9):
      kernel32: Also set the preloader range for 64-bit binaries.
      setupapi: Use correct architecture for fake dlls on ARM and ARM64.
      comctl32/imagelist: Use the correct allocation size for the image mask.
      explorer: Fix parsing command line that contains spaces.
      libport: Add a replacement implementation for strnlen.
      kernel32: Properly detect ELF binaries that are position independent executables.
      ntdll: Fix source/destination confusion in vsscanf.
      ddraw: Validate the surface descriptor size in GetDisplayMode.
      configure: Check the positive form of the warning options.

Alistair Leslie-Hughes (4):
      oleaut32: Remove dead code.
      oleaut32: Use VariantChangeTypeEx to convert to VT_BOOL.
      oleaut32/tests: Add more VarCat tests.
      oleaut32: Improve support for IDispatch in VarCat.

Andrew Eikum (2):
      xaudio2: Ignore buffers returned from OpenAL after Stop.
      xaudio2: Account for abandoned buffer bytes.

Andrey Gusev (1):
      d3dx10: Add D3DX10PreprocessShaderFromMemory stub.

Bob Ziuchkovski (1):
      dinput: Ignore vendor-specific usage pages for joystick elements on Mac.

Daniel Lehman (1):
      wininet: Use case-insensitive comparison for server name.

Fabian Maurer (2):
      gdiplus: In GdipPrivateAddMemoryFont allow loading fonts with long names.
      msvcrt: Don't crash if _vsnwprintf gets NULL as format string and add test.

Gerald Pfeifer (1):
      configure: Use the -Wno-packed-not-aligned compiler option if available.

Henri Verbeet (3):
      wined3d: Rename WINED3D_BUFFER_DOUBLEBUFFER to WINED3D_BUFFER_PIN_SYSMEM.
      wined3d: Try to avoid stalling on dynamic buffer maps.
      wined3d: Ignore WINED3D_MAP_DISCARD when used together with WINED3D_MAP_NOOVERWRITE.

Hugh McMaster (1):
      setupapi: Recursively remove any subkeys before calling NtDeleteKey().

Huw D. M. Davies (2):
      comctl32: Correctly set the colour table for ILC_COLOR4 and ILC_COLOR8 imagelists.
      comctl32: Don't create a masked imagelist if CLR_NONE is specified.

Joel Holdsworth (1):
      urlmon: Support [Add.Code] sections in ActiveX INF files.

JÃ³zef Kucia (1):
      wined3d: Use correct data type for immediate constants.

Kimmo Myllyvirta (1):
      xaudio2: Add support for float formats with more than 2 channels.

Lucian Poston (1):
      shell32: Stub GetRedirectionCapabilities with S_OK.

Martin Payne (3):
      kernel32: Don't report valid non-Win16 NE executables (e.g. OS/2) as broken.
      krnl386.exe16: Shared libraries have a ".exe" rather than ".dll" extension on Windows < 3.0.
      user.exe16: Implemented OldExitWindows() user.exe16 function.

Martin Storsjo (1):
      configure: Check for -Wno-pragma-pack.

Matteo Bruni (1):
      d3dx9: Implement D3DXGetShader{Input|Output}Semantics().

Michael Stefaniuc (2):
      comctl32/tests: Add an ImageList_Copy() test.
      make_announce: Don't hardcode the 'stable' branch.

Nikolay Sivov (9):
      advapi32: Partially implement LsaLookupPrivilegeName().
      d3dx9: Implement D3DXFrameFind().
      msvcrt: Implement _memicmp_l().
      msvcrt: Added _get_purecall_handler().
      user32/tests: Added some tests for WM_GETTEXTLENGTH/WM_GETTEXT after EM_GETHANDLE was used.
      user32/edit: Allow buffer access after EM_GETHANDLE.
      comctl32/tooltips: Remove window subclass right before window is destroyed.
      comctl32/updown: Reset control width conditionally on UDM_SETBUDDY with NULL buddy handle.
      mshtml: Avoid potential moniker instance leak.

Piotr Caban (4):
      msvcrt: Fix buffer size checks in swscanf_s.
      msvcrt: Call cdecl functions with empty FPU stack in _CI* functions.
      msvcrt: Correctly set rounding mode in _ftol implementation.
      msvcp90: Use correct locale in basic_ios::narrow and basic_ios::widen.

Sebastian Lackner (2):
      user32: Globally invalidate key state on changes in other threads.
      configure: Support for recent versions of OSMesa.

Thomas Faber (1):
      ntdll: Handle RtlReAllocateHeap failure in com_class_add_progid (Coverity).

Vincent Povirk (1):
      windowscodecs: Fix 32bppGrayFloat to 8bppGray conversion.

Zebediah Figura (5):
      dinput/tests: Don't pump messages in test_acquire().
      winegstreamer: Hold a reference to the filter in push_data().
      compobj.dll16: Implement CoGetClassObject16().
      imaadp32.acm: Fix nibble ordering.
      winedbg/gdbproxy: Replace memory read over a breakpoint with the real value.

Zhiyi Zhang (1):
      winecfg: Fix a crash when inputting non-ASCII dll override name.

--
Michael Stefaniuc
mstefani@winehq.org
